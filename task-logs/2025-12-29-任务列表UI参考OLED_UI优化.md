# 任务日志：任务列表 UI 参考 OLED_UI 优化

- 日期：2025-12-29
- 范围：`firmware` 端 OLED 任务列表页面（`DisplayController::drawTaskListScreen` / `drawTaskListViewScreen`）
- 目标：在不引入 `OLED_UI` 框架的前提下，借鉴其“圆角、卡片、层级与滚动反馈”的设计语言，让任务列表页面与项目其他页面的质感一致，并先将当前代码快照提交推送到 `origin/main`。

## 背景与问题

- 当前任务列表页面整体较“硬”：全宽高亮、缺少结构化层级（标题/列表/状态信息）、滚动反馈不够直观。
- 其他页面（Idle/Timer/Adjust 等）已具备较统一的“像素字体 + 图标 + 圆角框”视觉语言，因此任务列表需要对齐这套风格。

## 方案选择（已确认）

- 采用方案 1：**只参考 OLED_UI 的设计语言与交互手感，不引入其框架代码**。
  - 原因：本项目已使用 `Adafruit_SSD1306 + U8g2_for_Adafruit_GFX` 并实现中文渲染；直接迁移 `OLED_UI` 会带来显示栈替换、输入模型改造与 ESP32 已知问题风险。

## 计划（修改前）

1. 将当前工作区状态（包含新增 `custom_components/`、文档与固件改动）提交并推送到 `origin/main`，作为“当前代码快照”。
2. 重绘任务列表 UI（不改变交互逻辑：旋钮滚动、单击/双击/长按行为保持不变）：
   - 顶部：分段控件样式（待办/已完成）+ 计数提示；
   - 列表：卡片式条目、圆角高亮、更舒适的留白；
   - 右侧：滚动条替代三角提示；
   - 空态：更统一的提示布局。
3. `pio run` 编译验证（`env:adafruit_qtpy_esp32`）。
4. 提交并推送 UI 优化改动。

## 预期效果

- 任务列表页面与其他页面风格一致（圆角、留白、信息层级更清晰）。
- 高亮选中更“柔和”，滚动位置有直观反馈（滚动条）。
- 空列表提示更克制、更像“产品化界面”。

## 修改结果（修改后补充）

- 待执行/待补充：完成提交与 UI 改造后回填本节（包含关键变更点、提交号与验证方式）。

